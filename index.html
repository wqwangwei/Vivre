<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>俄罗斯方块动画</title>
    <style>
        /* CSS 样式 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: sans-serif;
        }

        #game-container {
            border: 5px solid #333;
            background-color: #1a1a1a;
            /* 游戏区域尺寸：10列 x 20行，每个方块 30px */
            width: calc(10 * 30px);
            height: calc(20 * 30px);
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .block {
            width: 30px;
            height: 30px;
            background-color: #ff3333; /* 初始颜色：红色 */
            border: 1px solid #000;
            box-sizing: border-box;
            position: absolute;
            transition: top 0.5s linear; /* 平滑过渡动画 */
        }
    </style>
</head>
<body>

    <div id="game-container">
        </div>

    <script>
        // JavaScript 逻辑
        const container = document.getElementById('game-container');
        const blockSize = 30; // 方块尺寸 (px)
        const cols = 10;
        const rows = 20;
        let currentY = 0; // 当前方块的行数
        let currentX = Math.floor(cols / 2) - 1; // 初始列数 (中间)

        // 简化的 L 形方块（3个小方块垂直堆叠）
        const shape = [
            [0, 0],
            [0, 1],
            [0, 2]
        ];
        const color = '#33ccff'; // 蓝色

        // 创建方块元素
        function createBlock() {
            // 清除前一个方块，只显示一个运动中的方块
            container.innerHTML = ''; 
            
            shape.forEach((coords, index) => {
                const block = document.createElement('div');
                block.classList.add('block');
                block.style.backgroundColor = color;
                
                // 设置初始位置
                const x = (currentX + coords[0]) * blockSize;
                const y = (currentY + coords[1]) * blockSize;
                
                block.style.left = `${x}px`;
                block.style.top = `${y}px`;
                block.id = `tetris-block-${index}`;

                container.appendChild(block);
            });
        }

        // 更新方块位置
        function moveBlock() {
            // 检查是否到达底部
            if (currentY + shape[shape.length - 1][1] < rows - 1) {
                currentY++;
                shape.forEach((coords, index) => {
                    const blockElement = document.getElementById(`tetris-block-${index}`);
                    // 根据新的 currentY 计算 top 值
                    const newY = (currentY + coords[1]) * blockSize;
                    blockElement.style.top = `${newY}px`;
                });
            } else {
                // 到达底部，重新开始（生成一个新的方块）
                currentY = 0;
                currentX = Math.floor(cols / 2) - 1;
                // 延迟一小段时间再创建新的方块，模拟锁定/新方块生成
                setTimeout(createBlock, 200); 
            }
        }

        // 启动动画
        createBlock();
        // 每 500 毫秒（0.5 秒）移动一次方块
        setInterval(moveBlock, 500); 

    </script>
</body>
</html>
